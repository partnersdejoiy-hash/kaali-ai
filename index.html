<!DOCTYPE html>
<html>

<head>

<title>KAALI AI</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="icon" type="image/png" href="kaali.png">

<style>

/* ================= BODY ================= */

html,body{

margin:0;
padding:0;

background:black;
color:white;
font-family:Arial;

height:100%;
overflow:hidden;

display:flex;
justify-content:center;

}


/* ================= MAIN ================= */

.container{

width:100%;
max-width:420px;

height:100%;

display:flex;
flex-direction:column;

background:black;

}


/* ================= HEADER ================= */

.header{

text-align:center;
padding:12px;

border-bottom:1px solid #222;

}

.logo{

width:70px;
animation:glow 3s infinite;

}

.title{

color:gold;
font-size:22px;
margin-top:5px;

}


/* ================= CHAT ================= */

#messages{

flex:1;

overflow-y:auto;

padding:15px;

}


/* ================= MESSAGES ================= */

.user{

background:#222;
padding:10px;
border-radius:12px;
margin:6px;

animation:fadeIn .4s;

}


.kaali{

background:#000;
border-left:4px solid gold;
padding:10px;
border-radius:12px;
margin:6px;

animation:fadeIn .6s;

}


/* ================= INPUT ================= */

.inputArea{

display:flex;

padding:10px;

border-top:1px solid #222;

background:black;

}


input{

flex:1;

padding:12px;

border-radius:10px;

border:none;

font-size:15px;

outline:none;

}


button{

background:gold;

border:none;

padding:12px 20px;

border-radius:10px;

margin-left:8px;

cursor:pointer;

font-weight:bold;

}


button:hover{

background:#ffd700cc;

}


/* ================= ANIMATION ================= */

@keyframes glow{

0%{filter:drop-shadow(0px 0px 2px gold);}
50%{filter:drop-shadow(0px 0px 12px gold);}
100%{filter:drop-shadow(0px 0px 2px gold);}

}

@keyframes fadeIn{

from{
opacity:0;
transform:translateY(10px);
}

to{
opacity:1;
transform:translateY(0);
}

}


/* ================= TYPING ================= */

.typing{

color:gold;
font-style:italic;

}


/* ================= SCROLL ================= */

::-webkit-scrollbar{
width:6px;
}

::-webkit-scrollbar-thumb{
background:gold;
border-radius:10px;
}


/* ================= MOBILE ================= */

@media(max-width:600px){

.container{
max-width:100%;
}

}

</style>

</head>



<body>


<div class="container">


<!-- HEADER -->

<div class="header">

<img src="kaali.png" class="logo">

<div class="title">KAALI AI</div>

</div>



<!-- CHAT -->

<div id="messages"></div>



<!-- INPUT -->

<div class="inputArea">

<input id="input" placeholder="Ask KAALI anything...">

<button onclick="send()">Send</button>

</div>


</div>



<script>


/* =========================
KAALI MEMORY
========================= */

let history=[

{
role:"assistant",
content:"âœ¨ Namaste! I am KAALI, your mystical guide at DEJOIY. How may I assist you today? ðŸ”®"
}

];


/* =========================
SHOW GREETING
========================= */

document.getElementById("messages").innerHTML=

"<div class='kaali'><b>KAALI:</b> âœ¨ Namaste! I am KAALI, your mystical guide at DEJOIY. How may I assist you today? ðŸ”®</div>";



/* =========================
SEND MESSAGE
========================= */

async function send(){

let input=document.getElementById("input");

let msg=input.value.trim();

if(!msg) return;

input.value="";


let box=document.getElementById("messages");


/* USER MESSAGE */

box.innerHTML+=

"<div class='user'><b>You:</b> "+msg+"</div>";


/* SAVE MEMORY */

history.push({

role:"user",
content:msg

});


/* TYPING */

box.innerHTML+=

"<div class='kaali typing'>KAALI is thinking... ðŸ”®</div>";

box.scrollTop=box.scrollHeight;



/* API CALL */

let res=await fetch("/api/chat",{

method:"POST",

headers:{
"Content-Type":"application/json"
},

body:JSON.stringify({

messages:history

})

});


let data=await res.json();


/* REMOVE TYPING */

box.removeChild(box.lastChild);


/* SAVE MEMORY */

history.push({

role:"assistant",
content:data.reply

});


/* SHOW RESPONSE */

box.innerHTML+=

"<div class='kaali'><b>KAALI:</b> "+data.reply+"</div>";


box.scrollTop=box.scrollHeight;

}



/* =========================
ENTER KEY
========================= */

document.getElementById("input")

.addEventListener("keydown",function(e){

if(e.key==="Enter") send();

});


</script>


</body>

</html>
