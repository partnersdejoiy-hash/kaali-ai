<!DOCTYPE html>
<html>

<head>

<title>KAALI AI</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

/* ================= BODY ================= */

body{

background:black;
color:white;
font-family:Arial;

margin:0;
padding:0;

display:flex;
flex-direction:column;

height:100vh;

}



/* ================= HEADER ================= */

.header{

text-align:center;
padding:10px;

border-bottom:1px solid #222;

}


.logo{

width:80px;

margin-top:5px;

animation:glow 3s infinite;

}


.title{

color:gold;
font-size:28px;
margin:5px;

}



/* ================= CHAT AREA ================= */

#messages{

flex:1;

overflow:auto;

padding:15px;

}



/* ================= MESSAGE BUBBLES ================= */

.user{

background:#222;

padding:10px;

border-radius:10px;

margin:6px;

animation:fadeIn 0.4s ease;

}


.kaali{

background:#000;

border-left:4px solid gold;

padding:10px;

border-radius:10px;

margin:6px;

animation:fadeIn 0.6s ease;

}



/* ================= INPUT AREA ================= */

.inputArea{

display:flex;

padding:10px;

border-top:1px solid #222;

background:black;

}



input{

flex:1;

padding:12px;

border-radius:10px;

border:none;

font-size:16px;

outline:none;

}



button{

background:gold;

border:none;

padding:12px 20px;

border-radius:10px;

margin-left:8px;

cursor:pointer;

font-weight:bold;

transition:0.3s;

}


button:hover{

background:#ffd700cc;

}



/* ================= ANIMATIONS ================= */

@keyframes glow{

0%{filter:drop-shadow(0px 0px 2px gold);}
50%{filter:drop-shadow(0px 0px 12px gold);}
100%{filter:drop-shadow(0px 0px 2px gold);}

}


@keyframes fadeIn{

from{
opacity:0;
transform:translateY(10px);
}

to{
opacity:1;
transform:translateY(0);
}

}



/* ================= TYPING ================= */

.typing{

color:gold;
font-style:italic;

animation:pulse 1s infinite;

}


@keyframes pulse{

0%{opacity:0.3}
50%{opacity:1}
100%{opacity:0.3}

}



/* ================= RESPONSIVE ================= */

@media(max-width:768px){

.title{
font-size:22px;
}

.logo{
width:60px;
}

}


</style>

</head>



<body>



<!-- HEADER -->

<div class="header">

<img src="kaali.png" class="logo">

<div class="title">KAALI AI</div>

</div>



<!-- CHAT AREA -->

<div id="messages">

</div>



<!-- INPUT AREA -->

<div class="inputArea">

<input id="input" placeholder="Ask KAALI anything...">

<button onclick="send()">Send</button>

</div>





<script>


// ==========================
// MEMORY SYSTEM
// ==========================

let history=[];

let started=false;



// ==========================
// SEND MESSAGE
// ==========================

async function send(){

let input=document.getElementById("input");

let msg=input.value.trim();

if(!msg) return;

input.value="";



// USER MESSAGE

document.getElementById("messages").innerHTML+=

"<div class='user'><b>You:</b> "+msg+"</div>";



// FIRST MESSAGE LOGIC

if(!started){

history.push({

role:"assistant",

content:"âœ¨ Namaste! I am KAALI, your mystical guide at DEJOIY. How may I assist you today? ðŸ”®"

});

started=true;

}



// SAVE USER MESSAGE

history.push({

role:"user",
content:msg

});



// SHOW TYPING

document.getElementById("messages").innerHTML+=

"<div class='kaali typing'>KAALI is thinking... ðŸ”®</div>";



let res=await fetch("/api/chat",{

method:"POST",

headers:{
"Content-Type":"application/json"
},

body:JSON.stringify({

messages:history

})

});


let data=await res.json();



// REMOVE TYPING

let box=document.getElementById("messages");

box.removeChild(box.lastChild);



// SAVE REPLY

history.push({

role:"assistant",
content:data.reply

});



// SHOW REPLY

box.innerHTML+=

"<div class='kaali'><b>KAALI:</b> "+data.reply+"</div>";



// AUTO SCROLL

box.scrollTop=box.scrollHeight;

}



// ==========================
// ENTER KEY SUPPORT
// ==========================

document.getElementById("input")

.addEventListener("keydown",function(e){

if(e.key==="Enter"){

send();

}

});


</script>


</body>

</html>
